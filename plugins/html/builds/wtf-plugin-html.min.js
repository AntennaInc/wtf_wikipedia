!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).wtfHtml=n()}(this,(function(){"use strict";var t={title:!0,infoboxes:!0,headers:!0,sections:!0,links:!0},n=function(n){n=Object.assign({},t,n);var e,a,i=this.data,s="";return s+="<!DOCTYPE html>\n",s+="<html>\n",s+="<head>\n",!0===n.title&&i.title&&(s+="<title>"+i.title+"</title>\n"),s+="</head>\n",s+="<body>\n",!0===this.isRedirect()?(s+=(e=this.redirectTo(),a="./"+(a=e.page).replace(/ /g,"_"),e.anchor&&(a+="#"+e.anchor),'  <div class="redirect">\n  â†³ <a class="link" href="./'.concat(a,'">').concat(e.text,"</a>\n  </div>")))+"\n</body>\n</html>":(!0===n.infoboxes&&(s+=this.infoboxes().map((function(t){return t.html(n)})).join("\n")),!0!==n.sections||!0!==n.paragraphs&&!0!==n.sentences||(s+=i.sections.map((function(t){return t.html(n)})).join("\n")),!0===n.references&&(s+="<h2>References</h2>",s+=this.references().map((function(t){return t.json(n)})).join("\n")),s+="</body>\n",s+="</html>")},e={headers:!0,images:!0,tables:!0,lists:!0,paragraphs:!0},a=function(t){t=Object.assign({},e,t);var n="";if(!0===t.headers&&this.title()){var a=1+this.depth;n+="  <h"+a+">"+this.title()+"</h"+a+">",n+="\n"}if(!0===t.images){var i=this.images();i.length>0&&(n+=i.map((function(n){return n.html(t)})).join("\n"))}return!0===t.tables&&(n+=this.tables().map((function(n){return n.html(t)})).join("\n")),!0===t.lists&&(n+=this.lists().map((function(n){return n.html(t)})).join("\n")),!0===t.paragraphs&&this.paragraphs().length>0?(n+='  <div class="text">\n',this.paragraphs().forEach((function(e){n+='    <p class="paragraph">\n',n+="      "+e.sentences().map((function(n){return n.html(t)})).join(" "),n+="\n    </p>\n"})),n+="  </div>\n"):!0===t.sentences&&(n+="      "+this.sentences().map((function(n){return n.html(t)})).join(" ")),'<div class="section">\n'+n+"</div>\n"},i={sentences:!0},s=function(t){var n="";return!0===(t=Object.assign({},i,t)).sentences&&(n+=this.sentences().map((function(n){return n.html(t)})).join("\n")),n};var r=function(t,n,e){if(!n||!t)return t;"number"==typeof t&&(t=String(t)),n=n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var a=new RegExp("\\b"+n+"\\b");return t=!0===a.test(t)?t.replace(a,e):t.replace(n,e)},c={links:!0,formatting:!0},o=function(t){var n=this;t=Object.assign({},c,t);var e=this.text();return!0===t.links&&this.links().forEach((function(t){var a=n.text||n.page,i=t.html();e=r(e,a,i)})),!0===t.formatting&&(this.bold().forEach((function(t){e=r(e,t,"<b>"+t+"</b>")})),this.italic().forEach((function(t){e=r(e,t,"<i>"+t+"</i>")}))),'<span class="sentence">'+e+"</span>"},h={image:!0,caption:!0,alt:!0,signature:!0,"signature alt":!0},l={images:!0},f=function(t,n){n=Object.assign({},l,n);var e='<table class="infobox">\n';if(e+="  <thead>\n",e+="  </thead>\n",e+="  <tbody>\n",!0===n.images&&t.data.image){if(e+="    <tr>\n",e+='       <td colspan="2" style="text-align:center">\n',e+="       "+t.image().html()+"\n",e+="       </td>\n",t.data.caption||t.data.alt){var a=t.data.caption?t.data.caption.html(n):t.data.alt.html(n);e+='       <td colspan="2" style="text-align:center">\n',e+="         "+a+"\n",e+="       </td>\n"}e+="    </tr>\n"}return Object.keys(t.data).forEach((function(a){if(!0!==h[a]){var i=t.data[a],s=a.replace(/_/g," ");s=s.charAt(0).toUpperCase()+s.substring(1);var r=i.html(n);e+="    <tr>\n",e+="      <td>"+s+"</td>\n",e+="      <td>"+r+"</td>\n",e+="    </tr>\n"}})),e+="  </tbody>\n",e+="</table>\n"},u=function(){return'  <img src="'+this.thumbnail()+'" alt="'+this.alt()+'"/>'};return function(t){t.Doc.html=n,t.Section.html=a,t.Paragraph.html=s,t.Sentence.html=o,t.Image.html=u,t.Infobox.html=f}}));
