!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).wtf=n()}(this,(function(){"use strict";var t={title:!0,infoboxes:!0,headers:!0,sections:!0,links:!0},n=function(n){n=Object.assign({},t,n);var e,i,a=this.data,s="";return!0===n.title&&a.title&&(s+="<title>"+a.title+"</title>\n"),!0===this.isRedirect()?s+=(e=this.redirectTo(),i="./"+(i=e.page).replace(/ /g,"_"),e.anchor&&(i+="#"+e.anchor),'  <div class="redirect">\n  â†³ <a class="link" href="./'.concat(i,'">').concat(e.text,"</a>\n  </div>")):(!0===n.infoboxes&&(s+=this.infoboxes().map((function(t){return t.html(n)})).join("\n")),!0!==n.sections&&!0!==n.paragraphs&&!0!==n.sentences||(s+=a.sections.map((function(t){return t.html(n)})).join("\n")),!0===n.references&&(s+="<h2>References</h2>",s+=this.references().map((function(t){return t.html(n)})).join("\n")),s)},e={headers:!0,images:!0,tables:!0,lists:!0,paragraphs:!0},i=function(t){t=Object.assign({},e,t);var n="";if(!0===t.headers&&this.title()){var i=1+this.depth;n+="  <h"+i+">"+this.title()+"</h"+i+">",n+="\n"}if(!0===t.images){var a=this.images();a.length>0&&(n+=a.map((function(n){return n.html(t)})).join("\n"))}return!0===t.tables&&(n+=this.tables().map((function(n){return n.html(t)})).join("\n")),!0===t.lists&&(n+=this.lists().map((function(n){return n.html(t)})).join("\n")),!0===t.paragraphs&&this.paragraphs().length>0?(n+='  <div class="text">\n',this.paragraphs().forEach((function(e){n+='    <p class="paragraph">\n',n+="      "+e.sentences().map((function(n){return n.html(t)})).join(" "),n+="\n    </p>\n"})),n+="  </div>\n"):!0===t.sentences&&(n+="      "+this.sentences().map((function(n){return n.html(t)})).join(" ")),'<div class="section">\n'+n+"</div>\n"},a={sentences:!0},s=function(t){var n="";return!0===(t=Object.assign({},a,t)).sentences&&(n+=this.sentences().map((function(n){return n.html(t)})).join("\n")),n};var r=function(t,n,e){if(!n||!t)return t;"number"==typeof t&&(t=String(t)),n=n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var i=new RegExp("\\b"+n+"\\b");return t=!0===i.test(t)?t.replace(i,e):t.replace(n,e)},o={links:!0,formatting:!0},c=function(t){t=Object.assign({},o,t);var n=this.text();return!0===t.links&&this.links().forEach((function(t){var e=t.text()||t.page(),i=t.html();n=r(n,e,i)})),!0===t.formatting&&(this.bold().forEach((function(t){n=r(n,t,"<b>"+t+"</b>")})),this.italic().forEach((function(t){n=r(n,t,"<i>"+t+"</i>")}))),'<span class="sentence">'+n+"</span>"},h=function(t){return t&&"string"==typeof t?t.charAt(0).toUpperCase()+t.slice(1):""},l=function(){var t="",n="link";if(this.site())t=this.site(),n+=" external";else{var e=this.page();t="./"+(t=h(e)).replace(/ /g,"_"),this.anchor()&&(t+="#".concat(this.anchor()))}var i=this.text()||this.page();return'<a class="'.concat(n,'" href="').concat(t,'">').concat(i,"</a>")},p={images:!0},f={image:!0,caption:!0,alt:!0,signature:!0,"signature alt":!0},u=function(t){var n=this;t=Object.assign({},p,t);var e='<table class="infobox">\n';if(e+="  <thead>\n",e+="  </thead>\n",e+="  <tbody>\n",!0===t.images&&this.data.image){if(e+="    <tr>\n",e+='       <td colspan="2" style="text-align:center">\n',e+="       "+this.image().html()+"\n",e+="       </td>\n",this.data.caption||this.data.alt){var i=this.data.caption?this.data.caption.html(t):this.data.alt.html(t);e+='       <td colspan="2" style="text-align:center">\n',e+="         "+i+"\n",e+="       </td>\n"}e+="    </tr>\n"}return Object.keys(this.data).forEach((function(i){if(!0!==f[i]){var a=n.data[i],s=i.replace(/_/g," ");s=s.charAt(0).toUpperCase()+s.substring(1);var r=a.html(t);e+="    <tr>\n",e+="      <td>"+s+"</td>\n",e+="      <td>"+r+"</td>\n",e+="    </tr>\n"}})),e+="  </tbody>\n",e+="</table>\n"},m=function(){return'  <img src="'+this.thumbnail()+'" alt="'+this.alt()+'"/>'};return function(t){t.Doc.prototype.html=n,t.Section.prototype.html=i,t.Paragraph.prototype.html=s,t.Sentence.prototype.html=c,t.Image.prototype.html=m,t.Infobox.prototype.html=u,t.Link.prototype.html=l}}));
